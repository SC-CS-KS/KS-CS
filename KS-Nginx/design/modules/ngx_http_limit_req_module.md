# ngx_http_limit_req_module
```md
	请求限流模块
		用来对某个 KEY 对应的 请求的平均速率 进行限流
	
		漏桶算法
			
				有一个固定容量的漏桶，按照常量固定速率流出水滴
				如果桶是空的，则不会流出水滴
				流入到漏桶的水流速度是随意的
				如果流入的水超出了桶的容量，则流入的水会溢出（被丢弃）
			核心
				缓存请求、匀速处理、多余的请求直接丢弃
			
				
			
				漏桶算法天生就限制了请求的速度
				可以用于流量整形和限流控制
		令牌桶算法
			
				令牌桶是一个存放固定容量令牌的桶
					按照固定速率r往桶里添加令牌
				桶中最多存放b个令牌，当桶满时，新添加的令牌被丢弃
			
				当一个请求达到时，会尝试从桶中获取令牌
					如果有，则继续处理请求
					如果没有则排队等待或者直接丢弃
			
				
		令牌桶 vs 漏桶
			令牌桶限制的是 平均流入速率
				允许突发请求，并允许一定程度 突发流量
			漏桶限制的是 常量流出速率
				从而平滑 突发流入速率
			
				漏桶算法的流出速率恒定或者为0
					令牌桶算法的流出速率却有可能大于r
	
		平滑模式（delay）
		允许突发模式 (nodelay)

```
## Reference
* [nginx限流模块详解](https://segmentfault.com/a/1190000016509710)
