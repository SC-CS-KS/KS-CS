# Declarative Programming (声明范式)
```md
声明式编程发轫于人工智能的研究，
主要包括函数式编程（functional programming，简称FP）和逻辑式编程（logic programming，简称LP）

其中，函数式编程将计算描述为数学函数的求值，而逻辑式编程通过提供一系列事实和规则来推导或论证结论。
```
* 声明式编程的本质
```md
声明式编程让我们重回数学思维：函数式编程类似代数中的表达式变换和计算，逻辑式编程则类似数理逻辑推理。

其中的变量也如数学中的一样，是抽象符号而非内存地址，
因此没有赋值运算，不会产生变量被改写的副作用（side-effect），也不存在内存分配和释放的问题。
这既简化了代码，也减少了调试——不妨想一想，有多少bug是由于某个变量被意外改写或内存管理不慎而造成的？
```
* 既然声明式编程有这么多好处，为什么命令式语言不仅占大多数，而且流行程度也不减呢？
```md
编程语言的流行程度与其擅长的领域关系密切。
声明式语言——尤其是函数式语言和逻辑式语言——擅长基于数理逻辑的应用，
如人工智能、符号处理、数据库、编译器等，对基于业务逻辑的、尤其是交互式或事件驱动型的应用就不那么得心应手了。
而大多数软件是面向用户的，交互性强、多为事件驱动、业务逻辑千差万别，显然命令式语言在此更有用武之地。
```

* 实现语言
```md
最早的函数式语言Lisp（LISt Processor）已有半个世纪的历史，最早之一的逻辑式语言Prolog（PROgramming in LOGic）也与C同龄。

值得指出的是，声明式编程并不仅仅局限于函数式和逻辑式:
1. C#中的attribute、Java中的annotation和XDoclet库等采用的也是具有声明式特征的
  属性导向式编程（Attribute-Oriented Programming，简称@OP）
2. Prograph、SISAL等数据流语言（dataflow language）采用的数据流式编程（Dataflow Programming）
  与函数式编程有不少共同点，同样属于声明式的范畴。
3. Oz、CHIP等支持与逻辑式编程相交的约束式编程（Constraint Programming）。
4. SQL，样式语言XSLT、CSS，标记语言HTML、XML、SVG，规范语言IDL（Interface Description Language）等等都是声明式的。
```
* Imperative Programming vs.  Declarative Programming
```md
一个专注于结果，一个专注于过程。
声明性编程侧重于程序应该完成的任务，而不指定程序应如何实现结果。
声明式编程，在于声明了我要什么，而命令式编程，在于命令计算机如何去做。

命令式编程是行动导向（Action-Oriented）的，因而算法是显性而目标是隐性的。
声明式编程是目标驱动（Goal-Driven）的，因而目标是显性而算法是隐性的。

事实上，凡是非命令式的编程都可归为声明式编程。
```
* 命令式 vs. 函数式 vs. 逻辑式
> 编程是寻求一种机制，将指定的输入转化为指定的输出。三种范式对此提供了截然不同的解决方案：
```md
命令式把程序看作一个自动机，输入是初始状态，输出是最终状态，编程就是设计一系列指令，通过自动机执行以完成状态转变；
函数式把程序看作一个数学函数，输入是自变量，输出是因变量，编程就是设计一系列函数，通过表达式变换以完成计算；
逻辑式把程序看作一个逻辑证明，输入是题设，输出是结论，编程就是设计一系列命题，通过逻辑推理以完成证明。
```