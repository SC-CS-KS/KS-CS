# Socket CP
```md
	维护着一定数量Socket长连接的集合
	自动检测Socket长连接的有效性，剔除无效的连接，补充连接池的长连接的数量
	节省创建TCP连接的时间，从而降低了请求的总处理时间
```
* 属性
```md
	空闲可使用的长连接队列
	正在运行的通信的长连接队列
	等待去获取一个空闲长连接的请求的队列
	无效长连接的剔除功能
	长连接资源池的数量配置
	长连接资源的新建功能
```

```md
	客户端为每个服务端实例维护一个连接池
		如果连接池中有空闲连接，则复用这个连接
		如果连接池中没有空闲连接，则会建立一个新的TCP连接或者等待池中出现空闲的连接
	当客户端使用池中连接处理完一个请求时
		如果连接池中的空闲连接数小于连接池的大小，则将当前使用的连接放入连接池
		如果连接池中的空闲连接数大于等于连接池的大小，则关闭当前使用的连接。
```

* 面向HTTP短连接的连接池
```md
	如果服务端关闭keepalive，则效果等同于短连接
		就没有连接池的作用了
	同理，如果连接池的大小设置为0，也等同于短连接的方式
	服务端支持Keepalive的时候
		可以减少CPU和内存的使用，允许请求和应答的HTTP管道化
		减少了后续请求的延迟，报告错误也无需关闭TCP连接
```
```md
一般地，对于延迟敏感的业务，可以使用连接池机制
```