# 流量识别

### 目标
```md
是对网络流量按照协议、应用和WEB服务三个层次进行实时识别，
尽可能做到细粒度的分类，为网络监控提供决策参考。

在流量识别的基础上，网络监控可以采取多种措施。
```
### 识别方法
* 端口识别
```md
是利用IP流量的端口号完成识别过程，前提流量是 TCP和 UDP 类型报文。
```
* 深度包识别（Deep Packet Inspection）
```md
根据协议特征签名，对数据包的应用层数据进行深度分析，识别出相应协议。
协议特征签名通常表现为数据包出现特定字符串或特定数字。
在识别过程中，还可以同时结合数据包首部信息。

DPI多用于网络应用层，直接对应用进行识别。
在防火墙、OpenDPI、L7-filter、Libprotoident、PACE和NBAR中都有应用。
DPI技术可以识别四层到七层的流量特征，从应用层面进行识别，精度高。
```
* 深度流识别（Deep Flow Inspection）
```md
是一种基于对网络流量行为检测的识别技术，利用流的统计特征进行识别。
如分析流的数据包长度规律、接入连接与连出连接的比值，上行流量与下行流量的比值等。
DFI基于流量的行为特征，建立流量特征模型，鉴别应用类型。

如 基于P2P下载应用的流量模型的特点为平均包长都在450byte以上，下载时间长，连接速率高。
```

### 总结
```md
端口识别技术识别速度快，但能够识别的流量类型比较有限，是二到四层的流量识别技术。
DPI 和DFI 都是四到七层的识别技术。
DPI适用于需要精细和准确识别、精细管理的环境，DFI适用于需要高效识别、粗放管理的环境。
从处理速度上看，DFI识别速度快，DPI识别速度慢。
从维护成本上来看，DFI维护成本低。

所以，三种流量技术在识别率、准确率、实时性、可扩展性方面表现均有所不同，
对于客户要看其更注重哪个方面，然后综合比较，再去选择相应的流量识别技术部署。
```